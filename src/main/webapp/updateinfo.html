<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>update.html</title>
	<link rel="stylesheet" href="https://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="https://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column" style="margin-top: 5%">
			<form class="form-horizontal" role="form" action="film/updateinfo">
				
				<input id="film_id" name="film_id" type="hidden">
				<div class="form-group">
					 <label for="inputEmail3" class="col-sm-2 control-label">标题</label>
					<div class="col-sm-8">
						<input class="form-control" id="title_id" type="text" name="title" placeholder="请输入title"/>
					</div>
				</div>
				
				<div class="form-group">
					 <label for="inputPassword3" class="col-sm-2 control-label">内容</label>
					<div class="col-sm-8">
						<input class="form-control" id="description_id" type="text" name="description"  placeholder="请输入description"/>
					</div>
				</div>
				
				<div class="form-group">
					 <label for="inputPassword3" class="col-sm-2 control-label">语言</label>
					<div class="col-sm-8">
						<select class="form-control" name="language_id" id="language_id" >
					      <option value="1">Engilish</option>
					      <option value="2">Italian</option>
					      <option value="3">Japanese</option>
					      <option value="4">Mandarin</option>
					      <option value="5">French</option>
					      <option value="6">German</option>
					    </select>

					</div>
				</div>
				
				<div class="form-group">
					<div class="col-sm-offset-2 col-sm-10">
						 <button type="submit" class="btn btn-primary btn-lg">修改</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>
<script type="text/javascript">
		$(function(){
			function getfilm_id(name) {
				var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)","i");
				var r = window.location.search.substr(1).match(reg);
				if (r!=null) return (r[2]); return null;
			}
			var id = getfilm_id("film_id");
			
			$.ajax({
				   url:"film/update",
				   type:"post",
				   data:{"id":id},
				   dataType:"json",
				   success:function(date){
					   console.log(date);
					   $("#title_id").attr("placeholder",date.title);
					   $("#description_id").attr("placeholder",date.description);
					   $("#film_id").val(date.film_id);
					   
				   }
				});
		});

		//获得地址栏的里的参数
		function GetQueryString(name) {
			var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)","i");
			var r = window.location.search.substr(1).match(reg);
			if (r!=null) return (r[2]); return null;
		}
		var id = GetQueryString("film_id");

</script>
</body>
</html>